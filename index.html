<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>–ü–†–ê–ô–ú –°–ö–£–î ‚Äî –¢–°–ñ –ü–∞—Ä—É—Å–∞ –Ω–∞–¥ –ö–∞–º–æ–π</title>
  <meta name="theme-color" content="#667eea">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="–í–æ—Ä–æ—Ç–∞">
  <link rel="icon"
    href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üè†</text></svg>">
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      -webkit-tap-highlight-color: transparent;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      min-height: 100dvh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 15px;
    }

    .container {
      background: white;
      border-radius: 24px;
      padding: 25px;
      max-width: 400px;
      width: 100%;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    }

    .header {
      text-align: center;
      margin-bottom: 20px;
    }

    .header .logo {
      font-size: 42px;
      margin-bottom: 8px;
    }

    .header h1 {
      color: #333;
      font-size: 18px;
      margin-bottom: 4px;
    }

    .header .subtitle {
      color: #888;
      font-size: 12px;
    }

    .object-card {
      background: linear-gradient(135deg, #f5f7fa 0%, #e4e8eb 100%);
      border-radius: 16px;
      padding: 15px;
      margin-bottom: 20px;
      text-align: center;
    }

    .object-card .name {
      font-size: 15px;
      font-weight: 600;
      color: #333;
      margin-bottom: 5px;
    }

    .object-card .link {
      font-size: 11px;
      color: #888;
      word-break: break-all;
    }

    .object-card .status {
      display: inline-flex;
      align-items: center;
      gap: 5px;
      background: #e8f5e9;
      color: #2e7d32;
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 11px;
      margin-top: 8px;
    }

    .object-card .status .dot {
      width: 6px;
      height: 6px;
      background: #4caf50;
      border-radius: 50%;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {

      0%,
      100% {
        opacity: 1;
      }

      50% {
        opacity: 0.5;
      }
    }

    .gates {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .gate-link {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      width: 100%;
      padding: 16px;
      font-size: 15px;
      font-weight: 600;
      color: white;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 12px;
      text-decoration: none;
      transition: all 0.2s ease;
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
      border: none;
      cursor: pointer;
    }

    .gate-link:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
    }

    .gate-link:active {
      transform: translateY(0) scale(0.97);
    }

    .gate-link .icon {
      font-size: 18px;
    }

    .info-box {
      background: linear-gradient(135deg, #fff3cd 0%, #ffe8a1 100%);
      color: #856404;
      padding: 14px;
      border-radius: 12px;
      margin-top: 15px;
      font-size: 12px;
      line-height: 1.5;
      border: 1px solid #ffc107;
    }

    .info-box strong {
      display: block;
      margin-bottom: 6px;
      color: #664d03;
    }

    .input-group {
      margin-bottom: 15px;
    }

    .input-group label {
      display: block;
      font-size: 13px;
      color: #555;
      margin-bottom: 6px;
      font-weight: 500;
    }

    .input-group input {
      width: 100%;
      padding: 12px 14px;
      font-size: 14px;
      border: 2px solid #e0e0e0;
      border-radius: 10px;
      outline: none;
      transition: border-color 0.2s;
    }

    .input-group input:focus {
      border-color: #667eea;
    }

    .btn {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      width: 100%;
      padding: 14px;
      font-size: 15px;
      font-weight: 600;
      color: white;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.2s ease;
      text-decoration: none;
      margin-bottom: 8px;
    }

    .btn:hover {
      transform: translateY(-2px);
    }

    .btn-secondary {
      background: linear-gradient(135deg, #90a4ae 0%, #78909c 100%);
    }

    .footer {
      text-align: center;
      margin-top: 20px;
      padding-top: 12px;
      border-top: 1px solid #eee;
      font-size: 10px;
      color: #aaa;
    }

    .footer a {
      color: #667eea;
      text-decoration: none;
    }

    .settings-card {
      background: #f8f9fa;
      border: 1px solid #e0e0e0;
      border-radius: 16px;
      padding: 15px;
      margin-top: 25px;
    }

    @media (max-width: 480px) {
      body {
        padding: 10px;
      }

      .container {
        padding: 20px;
        border-radius: 20px;
      }

      .header h1 {
        font-size: 17px;
      }
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="header">
      <div class="logo">üè†</div>
      <h1>–¢–°–ñ –ü–∞—Ä—É—Å–∞ –Ω–∞–¥ –ö–∞–º–æ–π</h1>
      <p class="subtitle">–ü–†–ê–ô–ú –°–ö–£–î</p>
    </div>

    <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç–∞—Ç—É—Å–∞ -->
    <div class="object-card">
      <div class="name">–°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è</div>
      <div class="status">
        <span class="dot" id="statusDot"></span>
        <span id="statusText">–û–∂–∏–¥–∞–Ω–∏–µ...</span>
      </div>
    </div>

    <!-- –ö–Ω–æ–ø–∫–∏ –≤–æ—Ä–æ—Ç -->
    <div class="gates">
      <button class="gate-link" id="gate1" onclick="openGate('1225')">
        <span class="icon">üö™</span>
        <span>–í–æ—Ä–æ—Ç–∞ 1</span>
      </button>
      <button class="gate-link" id="gate2" onclick="openGate('2390')">
        <span class="icon">üö™</span>
        <span>–í–æ—Ä–æ—Ç–∞ 2</span>
      </button>
      <button class="gate-link" id="gate3" onclick="openGate('2394')">
        <span class="icon">üö™</span>
        <span>–í–æ—Ä–æ—Ç–∞ 3</span>
      </button>
      <button class="gate-link" id="gate4" onclick="openGate('2925')">
        <span class="icon">üè¢</span>
        <span>–ü–æ–¥—ä–µ–∑–¥ –ö37</span>
      </button>
    </div>

    <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–°—Å—ã–ª–∫–∞ –∏ –∫—É–∫–∞) -->
    <div class="settings-card">
      <h3 style="font-size: 14px; margin-bottom: 15px; color: #333;">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ—Å—Ç—É–ø–∞</h3>

      <div class="input-group">
        <label>–°—Å—ã–ª–∫–∞ –¥–æ—Å—Ç—É–ø–∞ (URL):</label>
        <input type="url" id="accessLink" placeholder="https://prime-skud.ru/a/..." autocomplete="off">
      </div>

      <div class="input-group">
        <label>–•—ç—à —Å–µ—Å—Å–∏–∏ (–ö—É–∫–∏):</label>
        <input type="text" id="sessionCookie" placeholder="bind_1055042=..." autocomplete="off">
        <div style="font-size: 10px; color: #888; margin-top: 4px;">–ú–æ–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å –¥—Ä—É–≥–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.</div>
      </div>

      <div style="display: flex; gap: 10px; margin-top: 15px;">
        <!-- –ö–Ω–æ–ø–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –±–µ–∑ —Å–µ—Ç–∏ -->
        <button class="btn btn-secondary" onclick="saveManually()"
          style="margin-bottom: 0; padding: 10px; font-size: 13px;">
          <span>üíæ</span>
          <span>–ò–∑–º–µ–Ω–∏—Ç—å —Å—Å—ã–ª–∫—É</span>
        </button>
        <!-- –ö–Ω–æ–ø–∫–∞ –∞–≤—Ç–æ-–∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–æ —Å–µ—Ç–∏ -->
        <button class="btn" id="activateBtn" onclick="activateLink()"
          style="margin-bottom: 0; padding: 10px; font-size: 13px;">
          <span>üöÄ</span>
          <span>–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å</span>
        </button>
      </div>
    </div>

    <div class="info-box">
      <strong>‚ÑπÔ∏è –ü–æ–¥—Å–∫–∞–∑–∫–∞:</strong>
      –ï—Å–ª–∏ –≤–æ—Ä–æ—Ç–∞ –ø–µ—Ä–µ—Å—Ç–∞–ª–∏ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å—Å—è, –≤–≤–µ–¥–∏—Ç–µ —Å—Å—ã–ª–∫—É –∏ –Ω–∞–∂–º–∏—Ç–µ ¬´–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å¬ª. –õ–∏–±–æ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ ¬´–•—ç—à —Å–µ—Å—Å–∏–∏¬ª —Å –¥—Ä—É–≥–æ–≥–æ
      —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ –Ω–∞–∂–º–∏—Ç–µ ¬´–ò–∑–º–µ–Ω–∏—Ç—å —Å—Å—ã–ª–∫—É¬ª.
    </div>

    <div class="footer">
      <p>–°–µ—Ä–≤–∏—Å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω <a href="https://prime-pult.ru/" target="_blank">–ü–†–ê–ô–ú –ü–£–õ–¨–¢</a></p>
      <p style="margin-top: 4px;">üá∑üá∫ –°–¥–µ–ª–∞–Ω–æ –≤ –†–æ—Å—Å–∏–∏</p>
    </div>
  </div>

  <script>
    // –í–°–¢–ê–í–¨–¢–ï –°–Æ–î–ê –í–ê–® CLOUDFLARE WORKER URL:
    const WORKER_URL = 'https://gate-open.nikisolo946.workers.dev/';

    let currentUrl = '';
    let primeCookie = '';

    // –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –∑–∞–ø–æ–ª–Ω—è–µ–º –ø–æ–ª—è
    window.addEventListener('load', () => {
      currentUrl = localStorage.getItem('primeSkudUrl') || '';
      primeCookie = localStorage.getItem('primeCookie') || '';

      document.getElementById('accessLink').value = currentUrl;
      document.getElementById('sessionCookie').value = primeCookie;

      refreshGlobalStatus();
    });

    // –§—É–Ω–∫—Ü–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ø—Ä–æ–∫—Å–∏
    async function fetchProxy(url, params = null) {
      const headers = {
        'X-Target-Url': url,
      };
      if (primeCookie) {
        headers['X-Prime-Cookie'] = primeCookie;
      }

      const options = {
        method: params ? 'POST' : 'GET',
        headers: headers
      };

      if (params) {
        options.body = params.toString();
      }

      const res = await fetch(WORKER_URL, options);

      // –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º –∫—É–∫—É –µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –µ–µ –≤—ã–¥–∞–ª
      const newCookie = res.headers.get('X-Set-Prime-Cookie');

      // –î–µ–∫–æ–¥–∏—Ä—É–µ–º windows-1251
      const buffer = await res.arrayBuffer();
      const decoder = new TextDecoder('windows-1251');
      const responseHtml = decoder.decode(buffer);

      // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç–æ–≤—ã–π –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
      const lowerHtml = responseHtml.toLowerCase();
      if (lowerHtml.includes('—É–¥–∞–ª–µ–Ω–∞') || lowerHtml.includes('–Ω–µ –Ω–∞–π–¥–µ–Ω–∞')) {
        throw new Error('LINK_DELETED');
      }
      if (lowerHtml.includes('–¥—Ä—É–≥–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ')) {
        throw new Error('LINK_STOLEN');
      }

      return { html: responseHtml, freshCookie: newCookie };
    }

    // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–º–µ–Ω—ã –±–µ–π–¥–∂–∞ —Å—Ç–∞—Ç—É—Å–∞
    function setStatus(type) {
      const dot = document.getElementById('statusDot');
      const text = document.getElementById('statusText');

      switch (type) {
        case 'ACTIVATED':
          text.innerText = '–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ';
          dot.style.background = '#4caf50'; // –ó–µ–ª–µ–Ω—ã–π
          break;
        case 'NEEDS_ACTIVATION':
          text.innerText = '–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è';
          dot.style.background = '#ff9800'; // –û—Ä–∞–Ω–∂–µ–≤—ã–π
          break;
        case 'ERROR_DELETED':
          text.innerText = '–û—à–∏–±–∫–∞: –°—Å—ã–ª–∫–∞ —É–¥–∞–ª–µ–Ω–∞';
          dot.style.background = '#f44336'; // –ö—Ä–∞—Å–Ω—ã–π
          break;
        case 'ERROR_STOLEN':
          text.innerText = '–û—à–∏–±–∫–∞: –î—Ä—É–≥–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ';
          dot.style.background = '#f44336'; // –ö—Ä–∞—Å–Ω—ã–π
          break;
        case 'ERROR_NETWORK':
          text.innerText = '–û—à–∏–±–∫–∞ —Å–µ—Ç–∏';
          dot.style.background = '#f44336'; // –ö—Ä–∞—Å–Ω—ã–π
          break;
        default:
          text.innerText = '–û–∂–∏–¥–∞–Ω–∏–µ...';
          dot.style.background = '#9e9e9e'; // –°–µ—Ä—ã–π
          break;
      }
    }

    function refreshGlobalStatus() {
      if (primeCookie) {
        setStatus('ACTIVATED');
      } else {
        setStatus('NEEDS_ACTIVATION');
      }
    }

    // –†—É—á–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–ª–µ–π (–ë–ï–ó –∑–∞–ø—Ä–æ—Å–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É)
    function saveManually() {
      const inputUrl = document.getElementById('accessLink').value.trim();
      const inputCookie = document.getElementById('sessionCookie').value.trim();

      let finalUrl = inputUrl;
      if (finalUrl && !finalUrl.startsWith('http')) finalUrl = 'https://' + finalUrl;

      // –û–±–Ω–æ–≤–ª—è–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ localStorage
      currentUrl = finalUrl;
      primeCookie = inputCookie;

      if (currentUrl) {
        localStorage.setItem('primeSkudUrl', currentUrl);
        document.getElementById('accessLink').value = currentUrl;
      } else {
        localStorage.removeItem('primeSkudUrl');
      }

      if (primeCookie) {
        localStorage.setItem('primeCookie', primeCookie);
      } else {
        localStorage.removeItem('primeCookie');
      }

      // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –≤ UI
      refreshGlobalStatus();

      // –í–∏–∑—É–∞–ª—å–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
      const btn = event.currentTarget;
      const originHtml = btn.innerHTML;
      btn.innerHTML = '<span>‚úÖ</span><span>–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ</span>';
      setTimeout(() => { btn.innerHTML = originHtml; }, 1500);
    }

    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–µ—Ä
    async function activateLink() {
      const input = document.getElementById('accessLink');
      let url = input.value.trim();

      if (!url) return alert('–í–≤–µ–¥–∏—Ç–µ —Å—Å—ã–ª–∫—É –¥–æ—Å—Ç—É–ø–∞!');
      if (!url.startsWith('http')) url = 'https://' + url;
      if (!url.includes('prime-skud.ru/a/')) return alert('–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Å—Å—ã–ª–∫–∏!');

      const btn = document.getElementById('activateBtn');
      const originHtml = btn.innerHTML;
      btn.innerHTML = '<span>‚è≥</span><span>–ó–∞–≥—Ä—É–∑–∫–∞...</span>';
      btn.disabled = true;

      try {
        if (!WORKER_URL || WORKER_URL.includes("–≤–∞—à–µ-–∏–º—è-—Ä–∞–±–æ—Ç–Ω–∏–∫–∞")) {
          throw new Error("–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å –∞–¥—Ä–µ—Å Cloudflare Worker –≤ –∫–æ–¥–µ (–∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ WORKER_URL)");
        }

        // –ó–∞–ø–∏—Å—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ URL –ø–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ—Ä–∫–æ–π
        localStorage.setItem('primeSkudUrl', url);
        currentUrl = url;

        // –ü–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é: –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ù–û–í–û–ô –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –º—ã —Å–±—Ä–∞—Å—ã–≤–∞–µ–º —Ç–µ–∫—É—â—É—é –∫—É–∫—É –≤ UI, 
        // —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Å–≤–µ–∂—É—é
        primeCookie = '';
        localStorage.removeItem('primeCookie');
        document.getElementById('sessionCookie').value = '';

        // –®–∞–≥ 1: –ó–∞–≥—Ä—É–∂–∞–µ–º —Å—Ç–∞—Ä—Ç–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
        let result = await fetchProxy(url);

        // –ï—Å–ª–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –µ—Å—Ç—å —Å–∫—Ä–∏–ø—Ç –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ (act_me=1)
        if (result.html.includes('act_me=')) {
          const params = new URLSearchParams();
          params.append('act_me', '1');
          let activateResult = await fetchProxy(url, params); // –≤—ã–∑–æ–≤–µ—Ç POST –∑–∞–ø—Ä–æ—Å –∞–∫—Ç–∏–≤–∞—Ü–∏–∏

          if (activateResult.freshCookie) {
            primeCookie = activateResult.freshCookie;
            localStorage.setItem('primeCookie', primeCookie);
            document.getElementById('sessionCookie').value = primeCookie;
          }
        } else if (result.freshCookie) {
          primeCookie = result.freshCookie;
          localStorage.setItem('primeCookie', primeCookie);
          document.getElementById('sessionCookie').value = primeCookie;
        }

        refreshGlobalStatus();

      } catch (e) {
        console.error("–û—à–∏–±–∫–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏:", e.message);

        if (e.message === 'LINK_DELETED') {
          setStatus('ERROR_DELETED');
        } else if (e.message === 'LINK_STOLEN') {
          setStatus('ERROR_STOLEN');
        } else {
          alert('–°–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞: ' + e.message);
          setStatus('ERROR_NETWORK');
        }
      } finally {
        btn.innerHTML = originHtml;
        btn.disabled = false;
      }
    }

    // –û—Ç–∫—Ä—ã—Ç–∏–µ –≤–æ—Ä–æ—Ç
    async function openGate(gateId) {
      if (!currentUrl) {
        return alert('–°–Ω–∞—á–∞–ª–∞ –≤–≤–µ–¥–∏—Ç–µ —Å—Å—ã–ª–∫—É –∏ –Ω–∞–∂–º–∏—Ç–µ "–ò–∑–º–µ–Ω–∏—Ç—å —Å—Å—ã–ª–∫—É" / "–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å"');
      }

      const btn = event.currentTarget;
      const originHtml = btn.innerHTML;

      // –°–ø–∏–Ω–Ω–µ—Ä
      btn.innerHTML = '<span class="icon">‚è≥</span><span>–û—Ç–∫—Ä—ã–≤–∞—é...</span>';
      btn.disabled = true;

      try {
        const params = new URLSearchParams();
        params.append('d', gateId);
        params.append('r', '1');

        await fetchProxy(currentUrl, params);

        // –£—Å–ø–µ—Ö
        btn.style.background = 'linear-gradient(135deg, #43a047 0%, #2e7d32 100%)';
        btn.innerHTML = '<span class="icon">‚úÖ</span><span>–û—Ç–∫—Ä—ã—Ç–æ!</span>';
        setStatus('ACTIVATED');

        setTimeout(() => {
          btn.style.background = '';
          btn.innerHTML = originHtml;
          btn.disabled = false;
        }, 2000);

      } catch (err) {
        // –û—à–∏–±–∫–∞ - –∫–Ω–æ–ø–∫–∞ –∫—Ä–∞—Å–Ω–µ–µ—Ç
        btn.style.background = 'linear-gradient(135deg, #e53935 0%, #c62828 100%)';
        btn.innerHTML = '<span class="icon">‚ùå</span><span>–û—à–∏–±–∫–∞</span>';

        // –í–ê–ñ–ù–û: –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: "–ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –æ—à–∏–±–∫–∏ –∫—É–∫–∞ –ù–ï –¥–æ–ª–∂–Ω–∞—è —É–¥–∞–ª—è—Ç—å—Å—è".
        // –ú—ã –ø—Ä–æ—Å—Ç–æ –º–µ–Ω—è–µ–º —Å—Ç–∞—Ç—É—Å –≤ UI, –∞ localStorage –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é primeCookie –æ—Å—Ç–∞–≤–ª—è–µ–º –≤ –ø–æ–∫–æ–µ.
        if (err.message === 'LINK_DELETED') {
          setStatus('ERROR_DELETED');
        } else if (err.message === 'LINK_STOLEN') {
          setStatus('ERROR_STOLEN');
        } else {
          setStatus('ERROR_NETWORK');
        }

        setTimeout(() => {
          btn.style.background = '';
          btn.innerHTML = originHtml;
          btn.disabled = false;
        }, 2000);
      }
    }
  </script>
</body>

</html>